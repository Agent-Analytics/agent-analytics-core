// AUTO-GENERATED â€” edit tracker.src.js instead
export const TRACKER_JS = `(function(){"use strict";var a=document.currentScript,v=a&&a.src?new URL(a.src).origin+"/track":"/track",w=a&&a.dataset.project||"default",b=a&&a.dataset.token||null;function _(){var e=localStorage.getItem("aa_uid");return e||(e="anon_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36),localStorage.setItem("aa_uid",e)),e}var m=_(),y=1800*1e3;function O(){var e=Date.now(),t=parseInt(sessionStorage.getItem("aa_last_activity")||"0",10),n=sessionStorage.getItem("aa_sid");return(!n||t&&e-t>y)&&(n="sess_"+Math.random().toString(36).substr(2,9)+e.toString(36),sessionStorage.setItem("aa_sid",n)),sessionStorage.setItem("aa_last_activity",String(e)),n}function h(){for(var e=new URLSearchParams(location.search),t={},n=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],r=0;r<n.length;r++){var i=e.get(n[r]);i&&(t[n[r]]=i)}return t}var c=h();function I(e){var t="Unknown",n="",r="Unknown",i;return(i=e.match(/(Edge|Edg)\\/([\\d.]+)/))?(t="Edge",n=i[2]):(i=e.match(/OPR\\/([\\d.]+)/))?(t="Opera",n=i[1]):(i=e.match(/Chrome\\/([\\d.]+)/))?(t="Chrome",n=i[1]):(i=e.match(/Safari\\/([\\d.]+)/))?(i=e.match(/Version\\/([\\d.]+)/))&&(t="Safari",n=i[1]):(i=e.match(/Firefox\\/([\\d.]+)/))&&(t="Firefox",n=i[1]),/iPhone|iPad|iPod/.test(e)?r="iOS":/Windows/.test(e)?r="Windows":/Android/.test(e)?r="Android":/CrOS/.test(e)?r="ChromeOS":/Mac OS X/.test(e)?r="macOS":/Linux/.test(e)&&(r="Linux"),{browser:t,browser_version:n.split(".")[0],os:r}}var s=navigator.userAgent||"",o=I(s);function E(){var e=screen.width;return/Tablet|iPad/i.test(s)||e>=768&&e<1024&&!/Mobi/i.test(s)?"tablet":/Mobi/i.test(s)||e<768?"mobile":"desktop"}o.device=E();var d=[],u=null;function g(e,t){navigator.sendBeacon&&navigator.sendBeacon(e,new Blob([t],{type:"text/plain"}))||fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t,keepalive:!0,credentials:"omit"}).catch(function(){})}function l(){if(d.length){var e=d.splice(0);e.length===1?g(v,JSON.stringify(e[0])):g(v.replace("/track","/track/batch"),JSON.stringify({events:e}))}}function k(){u||(u=setTimeout(function(){u=null,l()},5e3))}document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&l()}),window.addEventListener("beforeunload",l);function P(e){var t={url:location.href,path:location.pathname,hostname:location.hostname,referrer:document.referrer,title:document.title,screen:screen.width+"x"+screen.height,language:navigator.language||"",browser:o.browser,browser_version:o.browser_version,os:o.os,device:o.device};for(var n in c)t[n]=c[n];if(e)for(var r in e)t[r]=e[r];return t}var f={track:function(e,t){d.push({project:w,token:b,event:e,properties:P(t),user_id:m,session_id:O(),timestamp:Date.now()}),k()},identify:function(e){m=e,localStorage.setItem("aa_uid",e)},page:function(e){this.track("page_view",{page:e||document.title})}},p=location.pathname+location.search;function S(){var e=location.pathname+location.search;e!==p&&(p=e,c=h(),f.page())}window.addEventListener("popstate",S),["pushState","replaceState"].forEach(function(e){var t=history[e];history[e]=function(){var n=t.apply(this,arguments);return S(),n}}),f.page(),window.aa=f})();`;
